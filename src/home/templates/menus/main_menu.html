{% load menu_tags %}

<ul class="navbar-nav ml-auto">
    {% for item in menu_items %}
        {% if item.has_children_in_menu %}
            <li class="nav-item {{item.active_class}} dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown{{item.id}}" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    {{ item.text }}
                </a>
                {% sub_menu item %}
            </li>
        {% else %}
            <li class="nav-item {{item.active_class}} {% if item.has_children_in_menu %}dropdown{% endif %}">
                <a class="nav-link" href="{{item.href}}">{{ item.text }}</a>
            </li>
        {% endif %}
    {% endfor %}
    <li class="nav-item {{item.active_class}}">
        <a class="nav-link" href="#">Extra item</a>
    </li>
</ul>